<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GOAL SETTING | New Course</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background: #0f172a; }
    .custom-scroll::-webkit-scrollbar { width: 6px; }
    .custom-scroll::-webkit-scrollbar-track { background: #1e293b; }
    .custom-scroll::-webkit-scrollbar-thumb { background: #475569; border-radius: 3px; }
    .glass { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(10px); }
    
  </style>
</head>
<body class="min-h-screen text-white custom-scroll">
  <header class="sticky top-0 z-50 bg-slate-900/95 backdrop-blur border-b border-slate-800">
    <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
      <a href="./index.html" class="flex items-center gap-2 text-slate-400 hover:text-sky-400 transition-colors text-sm font-bold">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
        Back to Course
      </a>
      <h1 class="text-sm font-bold text-white uppercase tracking-wider">GOAL SETTING</h1>
    </div>
  </header>
  
  <main class="max-w-6xl mx-auto px-6 py-8">
    <div class="w-full rounded-xl overflow-hidden border border-slate-700 shadow-2xl">
        <iframe srcdoc="<!DOCTYPE html>
<html lang=&quot;en&quot;>
<head>
    <meta charset=&quot;UTF-8&quot;>
    <meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;>
    <title>Master Blueprint: Phase 4</title>
    <script src=&quot;https://cdn.tailwindcss.com&quot;></script>
    <link href=&quot;https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,400;0,700;1,400;1,900&family=JetBrains+Mono:wght@700&display=swap&quot; rel=&quot;stylesheet&quot;>
    <style>
        body { font-family: &#39;Inter&#39;, sans-serif; background-color: #020617; color: #e2e8f0; margin: 0; min-height: 100vh; }
        .mono { font-family: &#39;JetBrains Mono&#39;, monospace; }
        .glass { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(10px); border: 1px solid rgba(51, 65, 85, 0.5); }
        input, textarea { background: #0f172a !important; border: 1px solid #1e293b !important; transition: all 0.2s; }
        input:focus, textarea:focus { border-color: #0ea5e9 !important; outline: none; box-shadow: 0 0 0 1px #0ea5e9; }
        .score-btn { background: #0f172a; border: 1px solid #1e293b; color: #64748b; transition: all 0.2s; width: 40px; height: 40px; font-size: 0.875rem; }
        .score-btn.active { background: #10b981; border-color: #10b981; color: #020617; font-weight: 900; }
        .step-content { display: none; }
        .step-content.active { display: block; }
        .nav-btn.active { background: #0ea5e9; color: #020617; font-weight: 900; border-color: #0ea5e9; }
        .info-card { background: rgba(30, 41, 59, 0.4); border-left: 3px solid #0ea5e9; padding: 1.5rem; border-radius: 0.75rem; }
        
        /* Rubric Styling */
        .rubric-cell { cursor: pointer; transition: all 0.2s; }
        .rubric-cell:hover { background: rgba(255,255,255,0.05); }
        .rubric-cell.active-proficient { background: rgba(16, 185, 129, 0.2); border: 1px solid #10b981; }
        .rubric-cell.active-developing { background: rgba(245, 158, 11, 0.2); border: 1px solid #f59e0b; }
        .rubric-cell.active-emerging { background: rgba(244, 63, 94, 0.2); border: 1px solid #f43f5e; }
        
        /* Save Status Pulse */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            70% { box-shadow: 0 0 0 6px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }
        .status-saved { animation: pulse-green 2s infinite; }
    </style>
</head>
<body class=&quot;p-4 md:p-8&quot;>
    <div class=&quot;max-w-5xl mx-auto&quot;>
        
        <header class=&quot;mb-8&quot;>
            <div class=&quot;text-center mb-6&quot;>
                <h1 class=&quot;text-3xl font-black italic tracking-tighter text-white uppercase mb-2&quot;>The User Blueprint</h1>
                <p class=&quot;text-[10px] font-mono uppercase tracking-[0.3em] text-sky-500 font-bold underline decoration-sky-500/30 underline-offset-4&quot;>High-Performance Configuration</p>
            </div>

            <div class=&quot;flex flex-wrap justify-center gap-3 mb-6 bg-slate-900/50 p-3 rounded-xl border border-slate-800&quot;>
                <div class=&quot;flex items-center gap-2 px-3&quot;>
                    <div id=&quot;save-indicator&quot; class=&quot;w-2 h-2 rounded-full bg-slate-600&quot;></div>
                    <span id=&quot;save-text&quot; class=&quot;text-[9px] uppercase font-bold text-slate-500 tracking-widest&quot;>System Ready</span>
                </div>
                <div class=&quot;w-px h-6 bg-slate-800 mx-2 hidden sm:block&quot;></div>
                <button onclick=&quot;downloadBackup()&quot; class=&quot;flex items-center gap-2 bg-slate-800 hover:bg-slate-700 text-white px-3 py-1.5 rounded-lg text-[10px] uppercase font-bold tracking-wider transition-colors border border-slate-700&quot;>
                    <svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;h-3 w-3&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;><path stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; d=&quot;M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4&quot; /></svg>
                    Save Backup File
                </button>
                <button onclick=&quot;document.getElementById(&#39;file-upload&#39;).click()&quot; class=&quot;flex items-center gap-2 bg-slate-800 hover:bg-slate-700 text-sky-400 px-3 py-1.5 rounded-lg text-[10px] uppercase font-bold tracking-wider transition-colors border border-slate-700&quot;>
                    <svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;h-3 w-3&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;><path stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; d=&quot;M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12&quot; /></svg>
                    Load Backup
                </button>
                <input type=&quot;file&quot; id=&quot;file-upload&quot; accept=&quot;.json&quot; style=&quot;display: none;&quot; onchange=&quot;loadBackup(this)&quot;>
            </div>

            <div class=&quot;flex justify-center gap-2 overflow-x-auto pb-2 px-2&quot;>
                <button onclick=&quot;showStep(0)&quot; class=&quot;nav-btn active px-4 py-2 rounded-lg border border-slate-700 text-[10px] font-bold uppercase tracking-widest mono transition-all flex-shrink-0&quot;>00 Mission</button>
                <button onclick=&quot;showStep(1)&quot; class=&quot;nav-btn px-4 py-2 rounded-lg border border-slate-700 text-[10px] font-bold uppercase tracking-widest mono transition-all flex-shrink-0&quot;>01 Identity</button>
                <button onclick=&quot;showStep(2)&quot; class=&quot;nav-btn px-4 py-2 rounded-lg border border-slate-700 text-[10px] font-bold uppercase tracking-widest mono transition-all flex-shrink-0&quot;>02 Path</button>
                <button onclick=&quot;showStep(3)&quot; class=&quot;nav-btn px-4 py-2 rounded-lg border border-slate-800 text-[10px] font-bold uppercase tracking-widest mono transition-all flex-shrink-0&quot;>03 Maintain</button>
                <button onclick=&quot;showStep(4)&quot; class=&quot;nav-btn px-4 py-2 rounded-lg border border-slate-800 text-[10px] font-bold uppercase tracking-widest mono transition-all flex-shrink-0&quot;>04 Review</button>
            </div>
        </header>

        <div class=&quot;glass rounded-3xl shadow-2xl overflow-hidden min-h-[500px]&quot;>
            
            <div id=&quot;step0&quot; class=&quot;step-content active&quot;>
                <div class=&quot;relative px-6 py-4 border-b border-slate-800 bg-slate-900/50&quot;>
                    <div class=&quot;absolute top-0 left-0 w-full h-1 bg-sky-500&quot;></div>
                    <h2 class=&quot;text-xl font-bold text-white uppercase italic tracking-tight&quot;>Step 00: Mission Briefing</h2>
                </div>
                <div class=&quot;p-8 space-y-8&quot;>
                    <div class=&quot;max-w-3xl mx-auto space-y-6&quot;>
                        <p class=&quot;text-slate-400 text-sm italic leading-relaxed text-center&quot;>
                            Welcome to your high-performance system configuration. You are about to build a plan designed to survive your worst days. Follow the steps below to complete your blueprint.
                        </p>

                        <div class=&quot;bg-indigo-500/10 border border-indigo-500/30 p-4 rounded-xl flex flex-col sm:flex-row gap-4 items-center mb-2&quot;>
                            <div class=&quot;p-3 bg-indigo-500/20 rounded-full text-indigo-400 shrink-0&quot;>
                                <svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;h-6 w-6&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;><path stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; d=&quot;M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4&quot; /></svg>
                            </div>
                            <div class=&quot;text-center sm:text-left&quot;>
                                <h3 class=&quot;text-indigo-400 font-bold uppercase text-[10px] tracking-widest mb-1&quot;>Data Safety Protocol</h3>
                                <p class=&quot;text-xs text-slate-300 leading-relaxed&quot;>
                                    This system auto-saves to your browser. However, to prevent data loss (if you clear cache or switch computers), you must use the <strong class=&quot;text-white&quot;>SAVE BACKUP FILE</strong> button above to download your progress. Use <strong class=&quot;text-white&quot;>LOAD BACKUP</strong> to restore it later.
                                </p>
                            </div>
                        </div>

                        <div class=&quot;grid grid-cols-1 md:grid-cols-2 gap-6&quot;>
                            <div class=&quot;info-card&quot;>
                                <h3 class=&quot;text-sky-400 font-bold uppercase text-xs mb-2 mono tracking-wider italic&quot;>01: Engine Identity</h3>
                                <p class=&quot;text-xs text-slate-300 leading-relaxed&quot;>
                                    High performance is about who you <strong class=&quot;text-white uppercase italic&quot;>are</strong>, not just what you do. Define your &quot;I AM&quot; statement and the core value that serves as your compass.
                                </p>
                            </div>

                            <div class=&quot;info-card border-l-emerald-500&quot;>
                                <h3 class=&quot;text-emerald-400 font-bold uppercase text-xs mb-2 mono tracking-wider italic&quot;>02: The Path (7/10 Task)</h3>
                                <p class=&quot;text-xs text-slate-300 leading-relaxed&quot;>
                                    Define a daily habit that is a 7/10 difficulty. Tough enough to make you better, but doable enough to win every single day. Plan your <strong class=&quot;text-white italic&quot;>Hammer</strong> to defeat the <strong class=&quot;text-white italic&quot;>Flinch</strong>.
                                </p>
                            </div>

                            <div class=&quot;info-card border-l-rose-500&quot;>
                                <h3 class=&quot;text-rose-500 font-bold uppercase text-xs mb-2 mono tracking-wider italic&quot;>03: Maintenance</h3>
                                <p class=&quot;text-xs text-slate-300 leading-relaxed&quot;>
                                    Performance requires durability. Identify your non-negotiable recovery mandate (Sleep, Mobility, or Social) to keep your system from redlining.
                                </p>
                            </div>

                            <div class=&quot;info-card border-l-amber-500&quot;>
                                <h3 class=&quot;text-amber-500 font-bold uppercase text-xs mb-2 mono tracking-wider italic&quot;>04: Integrity Review</h3>
                                <p class=&quot;text-xs text-slate-300 leading-relaxed&quot;>
                                    Audit your work. If the plan doesn&#39;t survive a bad day, it isn&#39;t a plan. Use the <strong class=&quot;text-white italic&quot;>Understanding Narrative</strong> and the <strong class=&quot;text-white italic&quot;>Self-Evaluation Rubric</strong> to finalize your system.
                                </p>
                            </div>
                        </div>

                        <div class=&quot;flex justify-center pt-6&quot;>
                            <button onclick=&quot;showStep(1)&quot; class=&quot;bg-sky-600 px-12 py-4 rounded-xl text-white font-black uppercase text-xs tracking-[0.2em] hover:bg-sky-500 transition-all shadow-lg shadow-sky-900/20 active:scale-95&quot;>
                                Start Configuration
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div id=&quot;step1&quot; class=&quot;step-content&quot;>
                <div class=&quot;relative px-6 py-4 border-b border-slate-800 bg-slate-900/50&quot;>
                    <div class=&quot;absolute top-0 left-0 w-full h-1 bg-sky-500&quot;></div>
                    <h2 class=&quot;text-xl font-bold text-white uppercase italic tracking-tight&quot;>Step 01: Engine Identity</h2>
                </div>
                <div class=&quot;p-8 space-y-6&quot;>
                    <div>
                        <label class=&quot;block text-[10px] font-bold uppercase text-slate-500 mb-2 tracking-widest mono&quot;>Identity Anchor</label>
                        <input type=&quot;text&quot; id=&quot;anchor&quot; oninput=&quot;saveData()&quot; placeholder=&quot;I AM...&quot; class=&quot;w-full rounded-lg p-4 text-lg font-bold text-white italic&quot;>
                        <p class=&quot;text-[9px] text-slate-600 mt-2 italic&quot;>Example: I am a person who finishes what they start.</p>
                    </div>
                    <div>
                        <label class=&quot;block text-[10px] font-bold uppercase text-slate-500 mb-2 tracking-widest mono&quot;>Compass Value</label>
                        <input type=&quot;text&quot; id=&quot;value&quot; oninput=&quot;saveData()&quot; placeholder=&quot;Core guiding value...&quot; class=&quot;w-full rounded-lg p-4 text-slate-200&quot;>
                    </div>
                    <div class=&quot;flex justify-between pt-4&quot;>
                        <button onclick=&quot;showStep(0)&quot; class=&quot;text-slate-500 font-bold uppercase text-[10px] tracking-widest&quot;>← Back to Briefing</button>
                        <button onclick=&quot;showStep(2)&quot; class=&quot;bg-sky-600 px-8 py-3 rounded-lg text-white font-bold uppercase text-[10px] tracking-widest&quot;>Next: The Path →</button>
                    </div>
                </div>
            </div>

            <div id=&quot;step2&quot; class=&quot;step-content&quot;>
                <div class=&quot;relative px-6 py-4 border-b border-slate-800 bg-slate-900/50&quot;>
                    <div class=&quot;absolute top-0 left-0 w-full h-1 bg-sky-500&quot;></div>
                    <h2 class=&quot;text-xl font-bold text-white uppercase italic tracking-tight&quot;>Step 02: The Path</h2>
                </div>
                <div class=&quot;p-8 space-y-6&quot;>
                    <div>
                        <label class=&quot;block text-[10px] font-bold uppercase text-slate-500 mb-2 tracking-widest mono&quot;>7/10 Task (One Daily habit)</label>
                        <input type=&quot;text&quot; id=&quot;task&quot; oninput=&quot;saveData()&quot; placeholder=&quot;Tough enough to grow, doable enough to win...&quot; class=&quot;w-full rounded-lg p-4 text-slate-200&quot;>
                    </div>
                    <div class=&quot;p-6 bg-slate-950 rounded-xl border border-slate-800&quot;>
                        <div class=&quot;text-[10px] font-black text-sky-400 mb-4 tracking-widest uppercase italic&quot;>Governor: Flinch → Hammer</div>
                        <div class=&quot;grid grid-cols-1 md:grid-cols-2 gap-6&quot;>
                            <div>
                                <label class=&quot;block text-[8px] text-slate-500 uppercase mono mb-1&quot;>The Flinch (The Resistance)</label>
                                <input type=&quot;text&quot; id=&quot;flinch&quot; oninput=&quot;saveData()&quot; placeholder=&quot;The moment you quit...&quot; class=&quot;w-full bg-transparent border-b border-slate-800 p-2 text-xs italic outline-none focus:border-sky-500&quot;>
                            </div>
                            <div>
                                <label class=&quot;block text-[8px] text-slate-500 uppercase mono mb-1&quot;>The Hammer (The Strike)</label>
                                <input type=&quot;text&quot; id=&quot;hammer&quot; oninput=&quot;saveData()&quot; placeholder=&quot;The counter-attack...&quot; class=&quot;w-full bg-transparent border-b border-slate-800 p-2 text-xs font-bold text-sky-400 outline-none focus:border-sky-500&quot;>
                            </div>
                        </div>
                    </div>
                    <div class=&quot;flex justify-between pt-4&quot;>
                        <button onclick=&quot;showStep(1)&quot; class=&quot;text-slate-500 font-bold uppercase text-[10px] tracking-widest&quot;>← Back</button>
                        <button onclick=&quot;showStep(3)&quot; class=&quot;bg-sky-600 px-8 py-3 rounded-lg text-white font-bold uppercase text-[10px] tracking-widest&quot;>Next: Maintenance →</button>
                    </div>
                </div>
            </div>

            <div id=&quot;step3&quot; class=&quot;step-content&quot;>
                <div class=&quot;relative px-6 py-4 border-b border-slate-800 bg-slate-900/50&quot;>
                    <div class=&quot;absolute top-0 left-0 w-full h-1 bg-sky-500&quot;></div>
                    <h2 class=&quot;text-xl font-bold text-white uppercase italic tracking-tight&quot;>Step 03: Maintenance</h2>
                </div>
                <div class=&quot;p-8 space-y-6&quot;>
                    <div>
                        <label class=&quot;block text-[10px] font-bold uppercase text-slate-500 mb-2 tracking-widest mono&quot;>Recovery Mandate</label>
                        <input type=&quot;text&quot; id=&quot;recovery&quot; oninput=&quot;saveData()&quot; placeholder=&quot;Alpha Rest (Sleep, Mobility, Social)...&quot; class=&quot;w-full rounded-lg p-4 text-slate-200&quot;>
                    </div>
                    <div>
                        <label class=&quot;block text-[10px] font-bold uppercase text-slate-500 mb-2 tracking-widest mono&quot;>Authentic Pride</label>
                        <textarea id=&quot;pride&quot; oninput=&quot;saveData()&quot; placeholder=&quot;I earned this because I...&quot; class=&quot;w-full rounded-lg p-4 text-xs h-24 resize-none text-slate-400 italic&quot;></textarea>
                    </div>
                    <div class=&quot;flex justify-between pt-4&quot;>
                        <button onclick=&quot;showStep(2)&quot; class=&quot;text-slate-500 font-bold uppercase text-[10px] tracking-widest&quot;>← Back</button>
                        <button onclick=&quot;showStep(4)&quot; class=&quot;bg-sky-600 px-8 py-3 rounded-lg text-white font-bold uppercase text-[10px] tracking-widest&quot;>Next: Scoring →</button>
                    </div>
                </div>
            </div>

            <div id=&quot;step4&quot; class=&quot;step-content&quot;>
                <div class=&quot;relative px-6 py-4 border-b border-slate-800 bg-slate-900/50&quot;>
                    <div class=&quot;absolute top-0 left-0 w-full h-1 bg-emerald-500&quot;></div>
                    <h2 class=&quot;text-xl font-bold text-white uppercase italic tracking-tight&quot;>Step 04: Score & Review</h2>
                </div>
                <div class=&quot;p-8 space-y-8&quot;>
                    
                    <div class=&quot;grid grid-cols-1 lg:grid-cols-2 gap-8&quot;>
                        <div>
                            <label class=&quot;block text-[10px] font-bold uppercase text-slate-500 mb-4 tracking-widest mono italic underline underline-offset-2&quot;>System Integrity Audit</label>
                            <div id=&quot;scoring-container&quot; class=&quot;space-y-4&quot;></div>
                            
                            <div class=&quot;border-t border-slate-800 mt-6 pt-6 flex justify-between items-center&quot;>
                                <span class=&quot;text-[10px] uppercase font-bold text-slate-500 tracking-[0.2em]&quot;>Readiness Score</span>
                                <div class=&quot;text-4xl font-black italic text-emerald-500 leading-none&quot;>
                                    <span id=&quot;total-score&quot;>00</span><span class=&quot;text-xl text-slate-700 font-normal not-italic&quot;>/20</span>
                                </div>
                            </div>
                        </div>

                        <div class=&quot;space-y-6&quot;>
                            <div>
                                <label class=&quot;block text-[10px] font-bold uppercase text-sky-400 mb-2 tracking-widest mono italic underline underline-offset-4&quot;>Understanding Narrative (Required)</label>
                                <textarea id=&quot;narrative&quot; oninput=&quot;saveData()&quot; placeholder=&quot;Explain your system: Why this 7/10 task? How does it match your Identity? How will you protect your recovery? Prove you understand the concepts...&quot; class=&quot;w-full rounded-xl p-4 text-sm h-[180px] resize-none text-slate-200 border-2 border-sky-500/20 focus:border-sky-500 transition-all&quot;></textarea>
                            </div>
                            
                            <div class=&quot;bg-sky-500/5 border border-sky-500/20 p-6 rounded-2xl text-center&quot;>
                                <h3 class=&quot;text-sky-500 font-black text-[10px] uppercase italic tracking-widest mb-3 italic underline underline-offset-4&quot;>Live Summary</h3>
                                <p id=&quot;summary-preview&quot; class=&quot;text-sm font-bold italic text-white leading-relaxed&quot;>
                                    &quot;I am ... . I choose ... . 7/10: ... .&quot;
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class=&quot;mt-8 border-t border-slate-800 pt-8&quot;>
                        <label class=&quot;block text-[10px] font-bold uppercase text-emerald-500 mb-4 tracking-[0.2em] mono italic underline underline-offset-4&quot;>Self-Evaluation Rubric</label>
                        <div class=&quot;overflow-x-auto glass rounded-2xl border border-slate-800 shadow-xl&quot;>
                            <table class=&quot;w-full text-left border-collapse min-w-[700px]&quot;>
                                <thead>
                                    <tr class=&quot;bg-slate-900/80 border-b border-slate-800&quot;>
                                        <th class=&quot;p-4 text-[10px] font-black uppercase text-slate-500 mono tracking-widest w-1/4&quot;>Criteria</th>
                                        <th class=&quot;p-4 text-[10px] font-black uppercase text-emerald-400 mono tracking-widest w-1/4&quot;>Proficient (4-5 pts)</th>
                                        <th class=&quot;p-4 text-[10px] font-black uppercase text-amber-400 mono tracking-widest w-1/4&quot;>Developing (2-3 pts)</th>
                                        <th class=&quot;p-4 text-[10px] font-black uppercase text-rose-400 mono tracking-widest w-1/4&quot;>Emerging (0-1 pts)</th>
                                    </tr>
                                </thead>
                                <tbody class=&quot;text-[10px] leading-relaxed&quot;>
                                    <tr class=&quot;border-b border-slate-800/50&quot;>
                                        <td class=&quot;p-4 font-bold uppercase text-white mono italic&quot;>Engine Identity</td>
                                        <td onclick=&quot;setScore(&#39;id&#39;, 5)&quot; id=&quot;id-5&quot; class=&quot;rubric-cell p-4 text-slate-400 italic&quot;>Identity Anchor is a strong &quot;I AM&quot; statement; Compass Value is clear and guiding.</td>
                                        <td onclick=&quot;setScore(&#39;id&#39;, 3)&quot; id=&quot;id-3&quot; class=&quot;rubric-cell p-4 text-slate-400 italic&quot;>Identity is behavior-based rather than identity-based; Value is vague.</td>
                                        <td onclick=&quot;setScore(&#39;id&#39;, 1)&quot; id=&quot;id-1&quot; class=&quot;rubric-cell p-4 text-slate-400 italic&quot;>Statement is missing or does not reflect an identity or value.</td>
                                    </tr>
                                    <tr class=&quot;border-b border-slate-800/50&quot;>
                                        <td class=&quot;p-4 font-bold uppercase text-white mono italic&quot;>The Path (7/10)</td>
                                        <td onclick=&quot;setScore(&#39;tk&#39;, 5)&quot; id=&quot;tk-5&quot; class=&quot;rubric-cell p-4 text-slate-400 italic&quot;>Task is specifically measurable and appropriately difficult; Flinch/Hammer logic is tactical.</td>
                                        <td onclick=&quot;setScore(&#39;tk&#39;, 3)&quot; id=&quot;tk-3&quot; class=&quot;rubric-cell p-4 text-slate-400 italic&quot;>Task is too easy or too hard; Flinch/Hammer responses are generic.</td>
                                        <td onclick=&quot;setScore(&#39;tk&#39;, 1)&quot; id=&quot;tk-1&quot; class=&quot;rubric-cell p-4 text-slate-400 italic&quot;>Task is not measurable; no Flinch/Hammer strategy provided.</td>
                                    </tr>
                                    <tr class=&quot;border-b border-slate-800/50&quot;>
                                        <td class=&quot;p-4 font-bold uppercase text-white mono italic&quot;>Maintenance</td>
                                        <td onclick=&quot;setScore(&#39;mn&#39;, 5)&quot; id=&quot;mn-5&quot; class=&quot;rubric-cell p-4 text-slate-400 italic&quot;>Clear Recovery Mandate and thoughtful reflection on Authentic Pride.</td>
                                        <td onclick=&quot;setScore(&#39;mn&#39;, 3)&quot; id=&quot;mn-3&quot; class=&quot;rubric-cell p-4 text-slate-400 italic&quot;>Recovery plan is vague; reflection lacks depth or specificity.</td>
                                        <td onclick=&quot;setScore(&#39;mn&#39;, 1)&quot; id=&quot;mn-1&quot; class=&quot;rubric-cell p-4 text-slate-400 italic&quot;>No recovery plan or reflection provided.</td>
                                    </tr>
                                    <tr>
                                        <td class=&quot;p-4 font-bold uppercase text-white mono italic&quot;>System Audit</td>
                                        <td onclick=&quot;setScore(&#39;cl&#39;, 5)&quot; id=&quot;cl-5&quot; class=&quot;rubric-cell p-4 text-slate-400 italic&quot;>Self-score is honest and reflected in the &quot;One-Line Summary&quot; synthesis.</td>
                                        <td onclick=&quot;setScore(&#39;cl&#39;, 3)&quot; id=&quot;cl-3&quot; class=&quot;rubric-cell p-4 text-slate-400 italic&quot;>Self-score provided but doesn&#39;t align with the actual configuration.</td>
                                        <td onclick=&quot;setScore(&#39;cl&#39;, 1)&quot; id=&quot;cl-1&quot; class=&quot;rubric-cell p-4 text-slate-400 italic&quot;>Incomplete scoring or missing One-Line Summary.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class=&quot;flex flex-col md:flex-row gap-4 pt-8&quot;>
                        <button onclick=&quot;showStep(1)&quot; class=&quot;flex-1 text-slate-500 font-bold uppercase text-[10px] tracking-widest hover:text-white transition-colors border border-slate-800 rounded-xl py-4&quot;>← Return to Start</button>
                        <button onclick=&quot;generateFullPrint()&quot; class=&quot;flex-[2] bg-emerald-600 hover:bg-emerald-500 text-white font-black uppercase tracking-widest py-4 rounded-xl shadow-lg shadow-emerald-900/20 transition-all active:scale-[0.98]&quot;>
                            Generate Full One-Page Blueprint
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <footer class=&quot;mt-8 text-center text-slate-600 text-[10px] font-mono uppercase tracking-[0.3em]&quot;>
            “If the plan doesn&#39;t survive a bad day, it isn&#39;t a plan.”
        </footer>
    </div>

    <script>
        const categories = [
            { id: &#39;id&#39;, label: &#39;Engine Identity&#39;, desc: &#39;Identity & Compass&#39; },
            { id: &#39;tk&#39;, label: &#39;The Path (7/10)&#39;, desc: &#39;Habit & Protocol&#39; },
            { id: &#39;mn&#39;, label: &#39;Maintenance&#39;, desc: &#39;Recovery & Pride&#39; },
            { id: &#39;cl&#39;, label: &#39;System Audit&#39;, desc: &#39;Honesty & Summary&#39; }
        ];

        let scores = { id: 0, tk: 0, mn: 0, cl: 0 };
        let saveTimeout;

        function showStep(n) {
            document.querySelectorAll(&#39;.step-content&#39;).forEach(s => s.classList.remove(&#39;active&#39;));
            document.getElementById(&#39;step&#39; + n).classList.add(&#39;active&#39;);
            document.querySelectorAll(&#39;.nav-btn&#39;).forEach((b, i) => {
                b.classList.toggle(&#39;active&#39;, i === n);
            });
            window.scrollTo(0, 0);
        }

        function getFormData() {
            return {
                anchor: document.getElementById(&#39;anchor&#39;).value,
                value: document.getElementById(&#39;value&#39;).value,
                task: document.getElementById(&#39;task&#39;).value,
                flinch: document.getElementById(&#39;flinch&#39;).value,
                hammer: document.getElementById(&#39;hammer&#39;).value,
                recovery: document.getElementById(&#39;recovery&#39;).value,
                pride: document.getElementById(&#39;pride&#39;).value,
                narrative: document.getElementById(&#39;narrative&#39;).value,
                scores: scores
            };
        }

        function populateForm(data) {
            if (data.anchor) document.getElementById(&#39;anchor&#39;).value = data.anchor;
            if (data.value) document.getElementById(&#39;value&#39;).value = data.value;
            if (data.task) document.getElementById(&#39;task&#39;).value = data.task;
            if (data.flinch) document.getElementById(&#39;flinch&#39;).value = data.flinch;
            if (data.hammer) document.getElementById(&#39;hammer&#39;).value = data.hammer;
            if (data.recovery) document.getElementById(&#39;recovery&#39;).value = data.recovery;
            if (data.pride) document.getElementById(&#39;pride&#39;).value = data.pride;
            if (data.narrative) document.getElementById(&#39;narrative&#39;).value = data.narrative;
            if (data.scores) {
                scores = data.scores;
                Object.keys(scores).forEach(cat => { if (scores[cat] > 0) setScore(cat, scores[cat]); });
            }
            updateSummaryPreview(data);
            showSaveStatus(&quot;Restored&quot;);
        }

        function saveData() {
            const data = getFormData();
            localStorage.setItem(&#39;athlete_blueprint_master&#39;, JSON.stringify(data));
            updateSummaryPreview(data);
            
            // UI Feedback
            const ind = document.getElementById(&#39;save-indicator&#39;);
            const txt = document.getElementById(&#39;save-text&#39;);
            ind.classList.remove(&#39;bg-slate-600&#39;);
            ind.classList.add(&#39;bg-emerald-500&#39;, &#39;status-saved&#39;);
            txt.innerText = &quot;Saving...&quot;;
            
            clearTimeout(saveTimeout);
            saveTimeout = setTimeout(() => {
                ind.classList.remove(&#39;status-saved&#39;);
                txt.innerText = &quot;Saved Locally&quot;;
            }, 1000);
        }

        function showSaveStatus(msg) {
            const ind = document.getElementById(&#39;save-indicator&#39;);
            const txt = document.getElementById(&#39;save-text&#39;);
            ind.classList.add(&#39;bg-emerald-500&#39;);
            txt.innerText = msg;
        }

        // --- NEW BACKUP FUNCTIONS ---

        function downloadBackup() {
            const data = getFormData();
            const dataStr = &quot;data:text/json;charset=utf-8,&quot; + encodeURIComponent(JSON.stringify(data));
            const downloadAnchorNode = document.createElement(&#39;a&#39;);
            downloadAnchorNode.setAttribute(&quot;href&quot;, dataStr);
            downloadAnchorNode.setAttribute(&quot;download&quot;, &quot;blueprint-backup.json&quot;);
            document.body.appendChild(downloadAnchorNode);
            downloadAnchorNode.click();
            downloadAnchorNode.remove();
            showSaveStatus(&quot;File Downloaded&quot;);
        }

        function loadBackup(input) {
            const file = input.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    populateForm(data);
                    saveData(); // Save to local storage as well
                    alert(&quot;Blueprint loaded successfully!&quot;);
                } catch (err) {
                    alert(&quot;Error loading file. Make sure it is a valid backup JSON.&quot;);
                }
            };
            reader.readAsText(file);
        }

        // ----------------------------

        function setScore(cat, val) {
            scores[cat] = val;
            
            // Update the standard button UI
            document.getElementById(`group-${cat}`).querySelectorAll(&#39;button&#39;).forEach((b, i) => {
                b.classList.toggle(&#39;active&#39;, (i + 1) === val);
            });
            
            // Update Rubric UI highlights
            const rubricRows = document.querySelectorAll(`[id^=&quot;${cat}-&quot;]`);
            rubricRows.forEach(cell => {
                cell.classList.remove(&#39;active-proficient&#39;, &#39;active-developing&#39;, &#39;active-emerging&#39;);
                const cellVal = parseInt(cell.id.split(&#39;-&#39;)[1]);
                if (val >= 4 && cellVal === 5) cell.classList.add(&#39;active-proficient&#39;);
                else if (val >= 2 && val <= 3 && cellVal === 3) cell.classList.add(&#39;active-developing&#39;);
                else if (val <= 1 && cellVal === 1) cell.classList.add(&#39;active-emerging&#39;);
            });

            const total = Object.values(scores).reduce((a, b) => a + b, 0);
            document.getElementById(&#39;total-score&#39;).innerText = total.toString().padStart(2, &#39;0&#39;);
            saveData();
        }

        function updateSummaryPreview(data) {
            const preview = document.getElementById(&#39;summary-preview&#39;);
            preview.innerHTML = `&quot;I am <span class=&quot;text-sky-400 font-bold underline underline-offset-2&quot;>${data.anchor || &#39;...&#39;}</span>. I choose <span class=&quot;text-sky-400 font-bold underline underline-offset-2&quot;>${data.value || &#39;...&#39;}</span>. 7/10: <span class=&quot;text-sky-400 font-bold underline underline-offset-2&quot;>${data.task || &#39;...&#39;}</span>.&quot;`;
        }

        function init() {
            const container = document.getElementById(&#39;scoring-container&#39;);
            categories.forEach(cat => {
                const div = document.createElement(&#39;div&#39;);
                div.className = &#39;flex items-center justify-between gap-2 bg-slate-900/30 p-3 rounded-xl border border-slate-800&#39;;
                div.innerHTML = `
                    <div class=&quot;flex-1 text-left&quot;>
                        <h4 class=&quot;text-[11px] font-bold text-white uppercase italic leading-none mb-1&quot;>${cat.label}</h4>
                        <p class=&quot;text-[8px] text-slate-500 uppercase mono leading-none&quot;>${cat.desc}</p>
                    </div>
                    <div class=&quot;flex gap-1&quot; id=&quot;group-${cat.id}&quot;>
                        ${[1,2,3,4,5].map(v => `<button onclick=&quot;setScore(&#39;${cat.id}&#39;, ${v})&quot; class=&quot;score-btn rounded-lg border font-mono font-bold w-8 h-8 text-[11px]&quot;>${v}</button>`).join(&#39;&#39;)}
                    </div>
                `;
                container.appendChild(div);
            });

            const saved = JSON.parse(localStorage.getItem(&#39;athlete_blueprint_master&#39;) || &#39;{}&#39;);
            populateForm(saved);
        }

        function generateFullPrint() {
            const data = getFormData(); // Get fresh data
            const total = Object.values(scores).reduce((a, b) => a + b, 0);
            
            const scoreDetails = categories.map(c => {
                let status = scores[c.id] >= 4 ? &#39;PROFICIENT&#39; : (scores[c.id] >= 2 ? &#39;DEVELOPING&#39; : &#39;EMERGING&#39;);
                return `
                    <div style=&quot;display:flex; justify-content:space-between; border-bottom:1px solid #eee; padding:8px 0;&quot;>
                        <span style=&quot;font-size:10px; font-weight:bold; color:#666; text-transform:uppercase;&quot;>${c.label} (${status})</span>
                        <span style=&quot;font-weight:900; font-style:italic;&quot;>${scores[c.id] || 0}/5</span>
                    </div>
                `;
            }).join(&#39;&#39;);

            const printHTML = `
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Athlete Blueprint: Full System</title>
                    <link href=&quot;https://cdn.tailwindcss.com&quot; rel=&quot;stylesheet&quot;>
                    <style>
                        body { font-family: sans-serif; padding: 40px; color: black; background: white; line-height: 1.3; }
                        .header { border-bottom: 5px solid black; padding-bottom: 10px; margin-bottom: 25px; }
                        .section { margin-bottom: 20px; border-left: 4px solid black; padding-left: 15px; }
                        .label { font-size: 8px; font-weight: bold; text-transform: uppercase; color: #888; margin-bottom: 1px; }
                        .val { font-size: 16px; font-weight: 900; font-style: italic; border-bottom: 1px solid black; margin-bottom: 12px; min-height: 22px; }
                        .narr-val { font-size: 11px; line-height: 1.4; padding: 12px; background: #f9f9f9; border-radius: 8px; margin-top: 5px; border: 1px solid #eee; }
                    </style>
                </head>
                <body>
                    <div style=&quot;max-width: 800px; margin: auto;&quot;>
                        <div class=&quot;header flex justify-between items-end&quot;>
                            <div>
                                <h1 class=&quot;text-3xl font-black italic uppercase&quot;>The User Blueprint</h1>
                                <p style=&quot;font-size:10px; letter-spacing:3px; text-transform:uppercase; font-weight:bold;&quot;>Phase 4 System Configuration</p>
                            </div>
                            <div style=&quot;text-align:right;&quot;>
                                <p style=&quot;font-size:10px; text-transform:uppercase; font-weight:bold;&quot;>Mastery Score</p>
                                <p style=&quot;font-size:40px; font-weight:900; font-style:italic; line-height:1;&quot;>${total}/20</p>
                            </div>
                        </div>

                        <div class=&quot;grid grid-cols-2 gap-8&quot;>
                            <div class=&quot;section&quot;>
                                <h2 style=&quot;font-size:12px; font-weight:900; text-transform:uppercase; margin-bottom:10px;&quot;>01 Engine Identity</h2>
                                <div class=&quot;label&quot;>Identity Anchor</div><div class=&quot;val&quot;>${data.anchor || &#39;---&#39;}</div>
                                <div class=&quot;label&quot;>Compass Value</div><div class=&quot;val&quot;>${data.value || &#39;---&#39;}</div>
                            </div>
                            <div class=&quot;section&quot;>
                                <h2 style=&quot;font-size:12px; font-weight:900; text-transform:uppercase; margin-bottom:10px;&quot;>02 The Path</h2>
                                <div class=&quot;label&quot;>7/10 Task</div><div class=&quot;val&quot;>${data.task || &#39;---&#39;}</div>
                                <div class=&quot;label&quot;>Hammer Protocol</div><div class=&quot;val&quot; style=&quot;font-size:13px; color:#0ea5e9;&quot;>${data.flinch || &#39;...&#39;} → ${data.hammer || &#39;...&#39;}</div>
                            </div>
                        </div>

                        <div class=&quot;section&quot;>
                            <h2 style=&quot;font-size:12px; font-weight:900; text-transform:uppercase; margin-bottom:5px;&quot;>03 System Maintenance</h2>
                            <div class=&quot;grid grid-cols-2 gap-4&quot;>
                                <div><div class=&quot;label&quot;>Recovery Mandate</div><div class=&quot;val&quot; style=&quot;font-size:13px;&quot;>${data.recovery || &#39;---&#39;}</div></div>
                                <div><div class=&quot;label&quot;>Authentic Pride</div><div class=&quot;val&quot; style=&quot;font-size:13px;&quot;>${data.pride || &#39;---&#39;}</div></div>
                            </div>
                        </div>

                        <div class=&quot;section&quot; style=&quot;border-left-color: #0ea5e9;&quot;>
                            <h2 style=&quot;font-size:12px; font-weight:900; text-transform:uppercase; margin-bottom:5px; color:#0ea5e9;&quot;>Understanding Narrative</h2>
                            <div class=&quot;narr-val&quot;>${data.narrative || &#39;No narrative provided.&#39;}</div>
                        </div>

                        <div style=&quot;margin-top:20px; border-top:2px solid black; padding-top:15px;&quot;>
                            <h2 style=&quot;font-size:10px; font-weight:900; text-transform:uppercase; margin-bottom:8px;&quot;>Audit Results</h2>
                            ${scoreDetails}
                        </div>

                        <div style=&quot;margin-top:30px; text-align:center; font-size:9px; font-weight:bold; color:#aaa; text-transform:uppercase; letter-spacing:2px;&quot;>
                            &quot;If the plan doesn&#39;t survive a bad day, it isn&#39;t a plan.&quot;
                        </div>
                    </div>
                    <script>window.onload = function() { setTimeout(function() { window.print(); }, 500); };<\/script>
                </body>
                </html>
            `;

            const printWindow = window.open(&#39;&#39;, &#39;_blank&#39;);
            if (printWindow) { printWindow.document.open(); printWindow.document.write(printHTML); printWindow.document.close(); }
        }
        window.onload = init;
    </script>
</body>
</html>" class="w-full border-0" style="min-height: 80vh; height: 100%;" sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-modals allow-downloads"></iframe>
      </div>
  </main>

  
  
  <script>
    
    
  </script>
</body>
</html>